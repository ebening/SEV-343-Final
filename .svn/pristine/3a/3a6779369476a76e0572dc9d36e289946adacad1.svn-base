<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	
</h:head>
<body>

<h:form id="mainForm">
		<h1 class="title">#{MBCatItem.catalogNametitle}</h1>

		<p:messages id="messages" autoUpdate="true" closable="true" />
	    <h:panelGrid id="panelZona" columns="3">

		 <h:outputLabel for="idCatItem" value="&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ID&#160;" 
		 style="display:block; text-align:right"/> 
				 <p:inputText id="idCatItem"  value="#{MBCatItem.catItem.idItem}">
				</p:inputText>
		 <br />	
        
        <h:outputLabel for="parentItem" value="&#160;&#160;PARENT ITEM&#160;" 
        	style="display:block; text-align:right"/>  
        <p:selectOneMenu id="parentItem"  value="#{MBCatItem.idItemParent}"
            style="width:150px;" >
                <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" />  
                <f:selectItems value="#{MBCatItem.catItemList}" var="item" itemLabel="#{item.code}" itemValue="#{item.idItem}"/>
        </p:selectOneMenu>
        
        <br/>
		 
		<h:outputLabel for="code" value="&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;CODIGO&#160;" 
		style="display:block; text-align:right"/> 
				 <p:inputText id="code"  value="#{MBCatItem.catItem.code}">
				</p:inputText>
				
		<br />
		
		 <h:outputLabel for="catDepto" value="&#160;&#160;&#160;&#160;ID DEPTO&#160;" 
        	style="display:block; text-align:right"/>  
            <p:selectOneMenu id="catDepto"  value="#{MBCatItem.catDepto.deptoId}"
            style="width:150px;" >
                <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" />  
                <f:selectItems value="#{MBCatItem.catDeptoList}" var="item" itemLabel="#{item.code}" itemValue="#{item.deptoId}"/>
        </p:selectOneMenu>
       
       <br/>
       
       	<h:outputLabel for="catCategoria" value="&#160;ID CATEGORIA&#160;" style="display:block; text-align:right"/> 
            <p:selectOneMenu id="catCategoria"  value="#{MBCatItem.catCategory.categoryId}"
            style="width:150px;" >
                <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" />  
                <f:selectItems value="#{MBCatItem.catCategoryList}" var="item" itemLabel="#{item.code}" itemValue="#{item.categoryId}"/>
        	</p:selectOneMenu>

        <br />	
        
            <h:outputLabel for="esMercancia" value="&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ES MERCANCIA" />
            <p:selectBooleanCheckbox id="esMercancia"  value="#{MBCatItem.esMercancia}" />
       
        <br/>
				
		<h:outputLabel for="segmento" value="SEGMENTO" 
		style="display:block; text-align:right"/> 
				 <p:inputText id="segmento"  value="#{MBCatItem.catItem.segmento}">
		</p:inputText>				
				
		<br />
	
        	
		<h:outputLabel for="catSubCategory" value="&#160;&#160;&#160;&#160;ID SUB CATEGORIA&#160;" 
			style="display:block; text-align:right"/>
            <p:selectOneMenu id="catSubCategory"  value="#{MBCatItem.catSubCategory.subCategoryId}"
            style="width:150px;" >
                <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" />  
                <f:selectItems value="#{MBCatItem.catSubCategoryList}" var="item" itemLabel="#{item.code}" itemValue="#{item.subCategoryId}"/>
        	</p:selectOneMenu>

		<br />
		
       <h:outputLabel for="fabricante" value="FABRICANTE" 
		style="display:block; text-align:right"/> 
				 <p:inputText id="fabricante"  value="#{MBCatItem.catItem.fabricante}">
				</p:inputText>
				
		<br />
		
		<h:outputLabel for="catProveedor" value="&#160;&#160;&#160;&#160;ID PROVEEDOR&#160;" 
			style="display:block; text-align:right"/>
            <p:selectOneMenu id="catProveedor"  value="#{MBCatItem.catProveedor.proveedorId}"
            style="width:150px;" >
                <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" />  
                <f:selectItems value="#{MBCatItem.catProveedorList}" var="item" itemLabel="#{item.code}" itemValue="#{item.proveedorId}"/>
        	</p:selectOneMenu>

		<br />
		
		<h:outputLabel for="marca" value="MARCA" 
		style="display:block; text-align:right"/> 
				 <p:inputText id="marca"  value="#{MBCatItem.catItem.marca}">
				</p:inputText>
				
		<br />
		
		<p:outputLabel for="fecha" value="&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;FECHA CREACIÓN" />
        <p:calendar id="fecha" value="#{MBCatItem.catItem.fechaCreacion}" />		
				
		<br />
		
		 <h:outputLabel for="precioActual" value="PRECIO ACTUAL" 
		style="display:block; text-align:right"/> 
				 <p:inputText id="precioActual"  value="#{MBCatItem.catItem.precioActual}">
				</p:inputText>
				
		<br />
		
		 <h:outputLabel for="margen" value="MARGEN" 
		style="display:block; text-align:right"/> 
				 <p:inputText id="margen"  value="#{MBCatItem.catItem.margen}">
				</p:inputText>
				
		<br />
		
		  <h:outputLabel for="porMargen" value="% MARGEN" 
		style="display:block; text-align:right"/> 
				 <p:inputText id="porMargen"  value="#{MBCatItem.catItem.porcMargen}">
				</p:inputText>
				
		<br />
		
		 <h:outputLabel for="existencia" value="EXISTENCIA" 
		style="display:block; text-align:right"/> 
				 <p:inputText id="existencia"  value="#{MBCatItem.catItem.existencia}">
				</p:inputText>
				
		<br />
		
        <h:outputLabel for="catDescripcion" value="&#160;&#160;&#160;&#160;ID DESCRIPCION&#160;" 
        	style="display:block; text-align:right"/>  
            <p:selectOneMenu id="catDescripcion"  value="#{MBCatItem.catDescripcion.idDescripcion}"
            style="width:150px;" >
                <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" />  
                <f:selectItems value="#{MBCatItem.catDescripcionList}" var="item" itemLabel="#{item.code}" itemValue="#{item.idDescripcion}"/>
        </p:selectOneMenu>
        
        <br />
        
        <h:outputLabel for="catLista" value="&#160;&#160;&#160;&#160;ID LISTA&#160;" 
        	style="display:block; text-align:right"/>  
            <p:selectOneMenu id="catLista"  value="#{MBCatItem.catLista.idLista}"
            style="width:150px;" >
                <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" />  
                <f:selectItems value="#{MBCatItem.catListas}" var="item" itemLabel="#{item.code}" itemValue="#{item.idLista}"/>
        </p:selectOneMenu>
        
              
       
                
	 <h:panelGroup style="display:block; text-align:right">
				<p:commandButton value="Guardar" action="#{MBCatItem.addCatItem}" update=":mainForm"/>
				
	            <p:commandButton value="Cancelar" style="margin-left: 5px;" action="#{MBCatItem.reset}" update=":mainForm"/>	
	</h:panelGroup>
	      </h:panelGrid>
	<br />
	<br />
	
	    <p:dataTable id="dataTableZone" var="item" value="#{MBCatItem.catItemList}" paginator="true" rows="10"
	                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
	                 emptyMessage="Vacio" resizableColumns="true" styleClass="ui-datatable-hor-scroll">
	            <p:column  style="">
	            												
					<p:commandButton id="edit" action="#{MBCatItem.setCatItemInfo(item)}" process="@this"
                            update=":mainForm" icon="ui-icon-search" />
					
					<p:commandButton id="delete" onclick="cd.show()" icon="ui-icon-trash" process="@this"
	            	action="#{MBCatItem.setCatItemInfo(item)}"/>
					
					<p:confirmDialog message="¿Desea eliminar el registro seleccionado?" 
	                header="Confirmación" severity="alert"
	                showEffect="fade" hideEffect="explode" widgetVar="cd" appendToBody="true">
	                    
	                <p:commandButton value="Si" styleClass="ui-confirmdialog-yes"
	                  icon="ui-icon-check"
	                  update=":mainForm" 
	                  action="#{MBCatItem.removeCatItem}"
	                  process="@this" 
	                  onclick="cd.hide()" />
	
					<p:commandButton value="No"  styleClass="ui-confirmdialog-no"
                    action="#{MBCatItem.reset}" 
                    process="@this" 
                    update=":mainForm"
                    onclick="cd.hide()"/>
	                </p:confirmDialog>													
						            		            
			</p:column>
	            
	       <p:column headerText="ID" resizable="true" sortBy="#{item.idItem}">
					<h:outputText value="#{item.idItem}" />
			</p:column>

			<p:column headerText="CODIGO" resizable="true" sortBy="#{item.code}">
					<h:outputText value="#{item.code}" />
			</p:column>
			
			<p:column headerText="ID CATEGORIA" resizable="true" sortBy="#{item.catCategory.categoryId}">
					<h:outputText value="#{item.catCategory.categoryId}" />
			</p:column>
			
			<p:column headerText="ID SUBCATEGORIA" resizable="true" sortBy="#{item.catSubcategory.subCategoryId}">
					<h:outputText value="#{item.catSubcategory.subCategoryId}" />
			</p:column>

			<p:column headerText="ID PROVEEDOR" resizable="true" sortBy="#{item.catProveedor.proveedorId}">
					<h:outputText value="#{item.catProveedor.proveedorId}" />
			</p:column>
			
			<p:column headerText="ID DESCRIPCION" resizable="true" sortBy="#{item.catDescripcion.idDescripcion}">
					<h:outputText value="#{item.catDescripcion.idDescripcion}" />
			</p:column>
			
			<p:column headerText="ID LISTA" resizable="true" sortBy="#{item.catLista.idLista}">
					<h:outputText value="#{item.catLista.idLista}" />
			</p:column>
			
			<p:column headerText="ID DEPTO" resizable="true" sortBy="#{itemcatDepto.deptoId}">
					<h:outputText value="#{itemcatDepto.deptoId}" />
			</p:column>
		
	    </p:dataTable>
	
	</h:form>

</body>
</html>